//
//  StartingView.swift
//  TicTacToe
//
//  Created by Victor Melo on 13/05/20.
//  Copyright Â© 2020 Victor Melo. All rights reserved.
//

import SwiftUI

let kasparovBin = "0100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110010010110110000101110011011100000110000101110010011011110111011001001011011000010111001101110000011000010111001001101111011101100100101101100001011100110111000001100001011100100110111101110110"

public struct StartingView: View {
    
    public init() {}
    
    public var body: some View {
        NavigationView {
            ZStack {
                Color.green
                Text(kasparovBin)
                    .kerning(5)
                    .foregroundColor(.black)
                    .multilineTextAlignment(.center)
                    .font(Font.system(size: 25, weight: .medium, design: .monospaced))
                    .opacity(0.15)
                    .frame(width: UIScreen.main.bounds.width * 1.5)
                    
                VStack {
                    Spacer()
                    
                    title
                    subtitle1
                    subtitle2
                    
                    Spacer()
                    
                    playButton
                    Spacer()
                        .frame(height: 100)
                }
            }
            .navigationBarTitle("")
            .navigationBarBackButtonHidden(true)
            .navigationBarHidden(true)
        }
        .navigationViewStyle(StackNavigationViewStyle())
    }
    
    
    public var title: some View {
        Text("Tic Tac Toe!")
            .font(Font.system(size: 60, weight: .heavy, design: .default))
            .foregroundColor(.white)
            .multilineTextAlignment(.center)
            .minimumScaleFactor(0.01)
            .padding(.bottom, 5)
            .shadow(color: .black, radius: 1, x: 0, y: 5)
            .frame(width: UIScreen.main.bounds.width)

    }
    
    public var subtitle1: some View {
        Text("Humanity VS. AI")
            .font(Font.system(size: 35, weight: .bold, design: .monospaced))
            .foregroundColor(.white)
            .padding(.bottom, 15)
            .minimumScaleFactor(0.01)
            .frame(width: UIScreen.main.bounds.width)
    }
    
    public var subtitle2: some View {
        Text("Revenge for Kasparov")
            .font(Font.system(size: 30, weight: .regular, design: .serif))
            .foregroundColor(.white)
            .minimumScaleFactor(0.01)
            .frame(width: UIScreen.main.bounds.width)
    }
    
    public var playButton: some View {
        NavigationLink(destination: StoryView()) {
            Text("Start")
                .foregroundColor(.white)
                .font(Font.system(size: 40, weight: .bold, design: .default))
        }
        .buttonStyle(CustomButtonStyle(EdgeInsets(top: 15, leading: 40, bottom: 15, trailing: 40)))
    }
}

public struct StartingView_Previews: PreviewProvider {
    public static var previews: some View {
        StartingView()
    }
}

public struct CustomButtonStyle: ButtonStyle {
    
    public let padding: EdgeInsets
    
    public init(_ padding: EdgeInsets) {
        self.padding = padding
    }

  public func makeBody(configuration: Self.Configuration) -> some View {
    if configuration.isPressed {
        let impactLight = UIImpactFeedbackGenerator(style: .soft)
        impactLight.impactOccurred()
    }
    
    return configuration.label
      .padding(padding)
      .foregroundColor(.white)
      .background(Color.blue)
      .cornerRadius(8.0)
      .shadow(color: .darkBlue, radius: 1, x: 0, y: configuration.isPressed ? 1 : 8)
      .offset(x: 0, y: configuration.isPressed ? 7 : 0)
  }

}

public extension Color {
    static let darkBlue: Color = {
        Color(.sRGB, red: 7/255.0, green: 72/255.0, blue: 138/255.0, opacity: 1)
    }()
    
    static let darkGreen: Color = {
        Color(.sRGB, red: 31/255.0, green: 138/255.0, blue: 60/255.0, opacity: 1)
    }()
    
    static let darkerGreen: Color = {
        Color(.sRGB, red: 21/255.0, green: 92/255.0, blue: 40/255.0, opacity: 1)
    }()
    
    static let lightGreen: Color = {
        Color(.sRGB, red: 51/255.0, green: 218/255.0, blue: 95/255.0, opacity: 1)
    }()
}
